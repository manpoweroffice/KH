<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="classMapper">

	<insert id="insertAttend" parameterType="map">
	 insert into attendance(stu_num,stu_name,attendance,lecture_code,atd_date)
	 values(#{stu_num},#{stu_name},#{attendance},#{lecture_code},#{atd_date});
	</insert>
	
	<update id="updateAttend" parameterType="map">
	update attendance
	<set>
	<if test="#{attendance}!=null">attendance=#{attendance}</if>
	</set>
	where stu_num=#{stu_num}
	</update>
	<select id="selectAll" resultType="register.Class_BasketBean">
		select * from LECTURE
	</select>
	
	<select id="selectLecCode" parameterType="String" resultType="String">
		select lecture_code from lecture where prof_code=#{prof_code}
	</select>
	
	<select id="countLec" parameterType="String" resultType="int">
		select count(*) from rec_lectrue where lecture_code=#{lecture_code}
	</select>
	
	<select id="selectRegLect" parameterType="String" resultType="register.Reg_LectureVo">
		select*from rec_lecture where lecture_code=#{lecture_code}
	</select>
	
	<select id="selectAttend" parameterType="String" resultType="register.AttendanceVo">
		select*from attendance where lecture_code=#{lecture_code}
	</select>
</mapper>    